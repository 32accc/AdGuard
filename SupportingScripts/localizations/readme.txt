
О локализации приложения

В проекте есть 2 вида строк: 
1) строки, которые мы используем в коде через ACLocalizedStrings() 
2) строки для storyboard файлов

В качестве базового языка мы используем en

Для первого типа строк .strings фалы мы заполняем вручную.
Для второго типа файлы генерятся либо x-code'ом либо скриптом xibstrings.py


Для загрузки/выгрузки строк из облака мы используем скрипт import.py


Как мы добавляем строки в облако:

1) скриптом xibstrings.py собираем все английские строки из .storyboard файлов в .strings файлы.
	python xibstrings.py -f ../../../ios -e

2) проверяем через git diff что не заменили случайно нужные строки и не добавили никакого мусора

3) git commit

4) импортируем английские строки из облака через import.py
	python import.py -f ../../../ios -l en -i

5) смотрим git diff и мержим свои изменения с изменениями, полученными из облака

7) скриптом xibstrings.py заливаем строки из .strings файлов в .storyboard файлы. Это мы делаем для того, чтобы в следующий раз на 1) этапе мы не затерли текущие изменения в .strings фалах
	python xibstrings.py -f ../../../ios -i

8) экспортируем английские строки в облако через import.py
	python import.py -f ../../../ios -l en -e


Чтобы забрать переводы из облака нужно:

1) На всякий случай забрать сначала только английские строки
	python import.py -f ../../../ios -l en -i

2) git diff покажет нам, не забыли ли мы забыли экспортировать какие-либо новые строки

3) если на 2 этапе обнаруживаем новые строки, то мержим изменения в облаке, с изменениями в проекте

4) импортируем уже все строки со всеми переводами
	python import.py -f ../../../ios -l all -i

5) git commit push

6) если на 3 этапе обнаружились новые строки, то выполняем экспорт строк в облако




Описание скриптов:

import.py

предназначен для импорта либо экспорта строк в/из облака

использование

python import.py -f <путь в root проекта> [-l language] [-i] [-e]
	
	-l language - язык. all - все языки. По умолчанию 'en'
	-i - импортировать строки. По умолчанию импортируются
	-e - экспортировать строки. По умолчанию импортируются


xibstrings.py

предназначен для генерации .strings файлов с английскими строками из .storyboard файлов либо для заполнения .storyboard файлов строками из .strings файлов

использование
	
python xibstrings.py -f <путь в root проекта> [-i] [-e]

-i импорт строк. strings -> storyboard
-e экспорт строк. storyboard -> strings
импорт - по умолчанию 

Оба этих скрипта берут пути к сторибордам в файле Resources/xib-files-list.txt

